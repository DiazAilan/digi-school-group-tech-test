(this["webpackJsonpdigi-school-group-tech-test"]=this["webpackJsonpdigi-school-group-tech-test"]||[]).push([[0],{112:function(e,t,a){e.exports=a(170)},117:function(e,t,a){},118:function(e,t,a){},169:function(e){e.exports=JSON.parse('{"fr":{"translation":{"common":{"home":"Accueil","search":"Rechercher"},"home":{"vote":"Voter","selected":"S\xe9lectionn\xe9","maxMoviesError":"Vous ne pouvez voter que jusqu\'\xe0 3 films !","info":"Info"},"search":{"noResults":"Aucun r\xe9sultat","noSearch":"Utiliser l\'entr\xe9e de recherche pour commencer"},"detail":{"Released":"Sortie","Rated":"Classification","Runtime":"Dur\xe9e","Genre":"Genre","Director":"R\xe9alisateur/R\xe9alisatrice","Writer":"\xc9crivain","Actors":"Acteurs","Language":"Langue","Country":"Pays","Awards":"Prix","Plot":"Synopsis"}}},"es":{"translation":{"common":{"home":"Inicio","search":"B\xfasqueda"},"home":{"vote":"Votar","selected":"Seleccionada","maxMoviesError":"\xa1Solo puedes votar por hasta 3 pel\xedculas!","info":"Info"},"search":{"noResults":"Sin resultados","noSearch":"Usa la caja de b\xfasqueda para comenzar"},"detail":{"Released":"Lanzamiento","Rated":"Clasificada","Runtime":"Duraci\xf3n","Genre":"G\xe9nero","Director":"Director/a","Writer":"Escritor/a","Actors":"Actores","Language":"Idioma","Country":"Pa\xeds","Awards":"Premios","Plot":"Sinopsis"}}},"en":{"translation":{"common":{"home":"Home","search":"Search"},"home":{"vote":"Vote","selected":"Selected","maxMoviesError":"You can only vote up to 3 movies!","info":"Info"},"search":{"noResults":"No results","noSearch":"Use the search input to start"},"detail":{"Released":"Released","Rated":"Rated","Runtime":"Runtime","Genre":"Genre","Director":"Director","Writer":"Writer","Actors":"Actors","Language":"Language","Country":"Country","Awards":"Awards","Plot":"Plot"}}}}')},170:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),i=(a(117),a(12)),l=a(60),s=(a(118),a(199)),u=a(225),m=a(219),d=a(32),f=a(41),b=a(11),p=a(201),h=a(203),g=a(204),v=a(69),E=a(3),j=a(95),O=a.n(j),x=Object(s.a)((function(e){return Object(u.a)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),"& a":{textDecoration:"none",color:"#fafafa"}},appBarShift:Object(b.a)({marginLeft:180,width:"calc(100% - ".concat(180,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),menuButton:{marginRight:36},hide:{display:"none"}})}));var w=function(e){var t=x();return r.a.createElement(p.a,{position:"fixed",className:Object(E.a)(t.appBar,Object(b.a)({},t.appBarShift,e.open))},r.a.createElement(h.a,null,r.a.createElement(g.a,{color:"inherit","aria-label":"open drawer",onClick:function(){e.onMenuClick()},edge:"start",className:Object(E.a)(t.menuButton,Object(b.a)({},t.hide,e.open))},r.a.createElement(O.a,null)),r.a.createElement(v.a,{variant:"h6",noWrap:!0},r.a.createElement(d.b,{to:"/"},"BlablaMovie"))))},C=a(28),S=a(223),y=a(205),k=a(206),A=a(207),N=a(208),R=a(209),I=a(101),D=a.n(I),P=a(100),M=a.n(P),W=a(18),B=Object(s.a)((function(e){return Object(u.a)({toolbar:Object(l.a)({alignItems:"center",display:"flex",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),drawer:Object(b.a)({flexShrink:0,whiteSpace:"nowrap",width:180},e.breakpoints.up("sm"),{width:240}),drawerOpen:Object(b.a)({width:180,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},e.breakpoints.up("sm"),{width:240}),drawerClose:Object(b.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0},e.breakpoints.up("sm"),{width:e.spacing(7)+1}),navbarList:{"& a":{textDecoration:"none",color:"rgba(0,0,0,0.87)"}}})}));var L=function(e){var t,a,n=B(),o=Object(C.a)(),c=Object(W.b)().t,i=function(){e.onCloseMenuClick()};return r.a.createElement(S.a,{variant:"permanent",className:Object(E.a)(n.drawer,(t={},Object(b.a)(t,n.drawerOpen,e.open),Object(b.a)(t,n.drawerClose,!e.open),t)),classes:{paper:Object(E.a)((a={},Object(b.a)(a,n.drawerOpen,e.open),Object(b.a)(a,n.drawerClose,!e.open),a))}},r.a.createElement("div",{className:n.toolbar},r.a.createElement(g.a,{onClick:i},"rtl"===o.direction?r.a.createElement(M.a,null):r.a.createElement(D.a,null))),r.a.createElement(y.a,{className:n.navbarList},e.options.map((function(e){return r.a.createElement(d.b,{to:e.path,key:e.id,onClick:i},r.a.createElement(k.a,{button:!0},r.a.createElement(A.a,null,r.a.createElement(N.a,null,e.icon)),r.a.createElement(R.a,{primary:c("common."+e.id)})))}))))},T=a(104),z=a(216),V=a(224),U=a(77),G=a(102),J=a.n(G).a.create({baseURL:U.a}),q="?apikey=".concat(U.b);function F(e){var t=q+"&s="+e;return J.get(t).then((function(e){return e.data}))}var H=a(210),Y=a(211),X=a(212),$=a(213),K=a(214),Q=a(215),Z=r.a.createContext({selected:[],toggleMovieSelection:function(e){}}),_=Object(s.a)((function(e){var t;return Object(u.a)({card:(t={display:"inline-block",margin:"0 8px 16px",width:"100%",textAlign:"left",transition:"all 0.5s",maxWidth:240},Object(b.a)(t,e.breakpoints.up("sm"),{maxWidth:240,width:"calc(50% - 16px)"}),Object(b.a)(t,"& > button",{cursor:"default"}),t),media:{height:280,backgroundSize:"contain",backgroundColor:"#fff"},cardContent:{height:120,transition:"background 0.5s","&.selected":{background:"#5ae080"}},cardAction:{justifyContent:"space-around","& a":{textDecoration:"none",color:"rgba(0,0,0,0.87)"},"& button":{transition:"all 0.5s","&:hover":{background:"#ccc"}}},selected:{color:"#289045"}})}));var ee=function(e){var t=_(),a=Object(n.useState)(!1),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(!1),u=Object(i.a)(s,2),m=u[0],f=u[1],b=Object(n.useContext)(Z),p=Object(W.b)().t;return Object(n.useEffect)((function(){var t=b.selected.includes(e.movie.imdbID);f(t)}),[b.selected,e.movie.imdbID]),r.a.createElement(H.a,{className:t.card,onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},raised:c||m},r.a.createElement(Y.a,null,r.a.createElement(X.a,{className:t.media,image:e.movie.Poster,title:e.movie.Title}),r.a.createElement($.a,{className:m?t.cardContent+" selected":t.cardContent},r.a.createElement(v.a,{gutterBottom:!0,component:"h3"},e.movie.Title),r.a.createElement(v.a,{color:"textSecondary",component:"p"},e.movie.Year))),r.a.createElement(K.a,{className:t.cardAction},r.a.createElement(Q.a,{size:"small",className:m?t.selected:"",onClick:function(){return e.onVoteClick(e.movie.imdbID)}},p(m?"home.selected":"home.vote")),r.a.createElement(d.b,{to:"/detail/"+e.movie.imdbID},r.a.createElement(Q.a,{size:"small"},p("home.info")))))},te=a(217),ae=Object(s.a)((function(e){return Object(u.a)({root:{},cardsContainer:{textAlign:"center",paddingLeft:0,paddingRight:0},loadingContainer:{height:280,display:"flex",alignItems:"center",justifyContent:"center"}})}));var ne=function(){var e=ae(),t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(function(){var e=localStorage.getItem("blablaMovieVotes");return e?JSON.parse(e):[]}()),s=Object(i.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(!1),f=Object(i.a)(d,2),b=f[0],p=f[1],h=Object(n.useState)(!1),v=Object(i.a)(h,2),E=v[0],j=v[1],O=Object(n.useState)(""),x=Object(i.a)(O,2),w=x[0],C=x[1],S=Object(W.b)().t,y=function(e){var t,a=Object(T.a)(u),n=u.indexOf(e);u.includes(e)?a.splice(n,1):u.length<3?a.push(e):(j(!0),C(S("home.maxMoviesError"))),m(a),t=a,localStorage.setItem("blablaMovieVotes",JSON.stringify(t))},k=function(e,t){"clickaway"!==t&&(j(!1),C(""))};return Object(n.useEffect)((function(){p(!1),F("elm-street").then((function(e){c(e.Search),setTimeout((function(){return p(!0)}),500)})).catch((function(e){j(!0),C(e.message),setTimeout((function(){return p(!0)}),500)}))}),[]),r.a.createElement(z.a,{fixed:!0,className:e.root},r.a.createElement("h2",null,S("common.home")),r.a.createElement(z.a,{fixed:!0,className:e.cardsContainer},r.a.createElement(Z.Provider,{value:{selected:u,toggleMovieSelection:y}},b?o.map((function(e){return r.a.createElement(ee,{key:e.imdbID,movie:e,onVoteClick:function(){return y(e.imdbID)}})})):r.a.createElement(z.a,{className:e.loadingContainer},r.a.createElement(te.a,{color:"secondary",size:48})))),r.a.createElement(V.a,{autoHideDuration:6e3,message:w,onClose:k,open:E,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{size:"small","aria-label":"close",color:"inherit",onClick:k},r.a.createElement(N.a,null,"close")))}))},re=a(221),oe=r.a.createContext({movies:[],error:""}),ce=Object(s.a)((function(e){return Object(u.a)({root:{"& a":{textDecoration:"none",color:"rgba(0,0,0,0.87)"}},resultCard:{marginBottom:16,cursor:"pointer",position:"relative","&:hover":{boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2),\n                        0px 8px 10px 1px rgba(0,0,0,0.14),\n                        0px 3px 14px 2px rgba(0,0,0,0.12)"}},resultCardContent:{"&:last-child":{paddingBottom:16},"& .material-icons":{position:"absolute",right:16,top:20},"& h2":{width:"calc(100% - 28px)",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}}})}));function ie(e){var t=ce();return r.a.createElement("div",{className:t.root},r.a.createElement(d.b,{to:"/detail/"+e.movie.imdbID},r.a.createElement(H.a,{className:t.resultCard},r.a.createElement($.a,{className:t.resultCardContent},r.a.createElement(v.a,{variant:"h5",component:"h2"},e.movie.Title),r.a.createElement(N.a,null,"visibility")))))}var le=function(){var e,t=Object(n.useContext)(oe),a=Object(W.b)().t;return r.a.createElement(r.a.Fragment,null,(null===(e=t.movies)||void 0===e?void 0:e.length)?t.movies.map((function(e){return r.a.createElement(ie,{movie:e,key:e.imdbID})})):r.a.createElement(v.a,null,t.error||a("search.noResults")))},se=Object(s.a)((function(e){return Object(u.a)({root:{},searchInput:{marginBottom:16},cardsContainer:{textAlign:"center"},loadingContainer:{height:280,display:"flex",alignItems:"center",justifyContent:"center"}})}));var ue=function(){var e=se(),t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)("Pirate"),s=Object(i.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(!1),f=Object(i.a)(d,2),b=f[0],p=f[1],h=Object(n.useState)(""),g=Object(i.a)(h,2),v=g[0],E=g[1],j=Object(n.useState)("Pirate"),O=Object(i.a)(j,2),x=O[0],w=O[1],C=Object(W.b)().t;return Object(n.useEffect)((function(){x&&F(x).then((function(e){e.Error&&E(e.Error),c(e.Search),p(!0)})).catch((function(e){E(e.message),c([]),p(!0)}))}),[x]),Object(n.useEffect)((function(){if(u){p(!1);var e=setTimeout((function(){w(u)}),1e3);return function(){clearTimeout(e)}}E(C("search.noSearch")),c([]),p(!0)}),[u,C]),r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{fixed:!0,className:e.root},r.a.createElement("div",null,r.a.createElement("h2",null,C("common.search")),r.a.createElement(z.a,{fixed:!0},r.a.createElement("form",{className:e.root,noValidate:!0,autoComplete:"off"},r.a.createElement(re.a,{id:"outlined-basic",variant:"outlined",className:e.searchInput,label:C("common.search"),onChange:function(e){m(e.target.value)},value:u})),b?r.a.createElement(oe.Provider,{value:{movies:o,error:v}},r.a.createElement(le,null)):r.a.createElement(z.a,{className:e.loadingContainer},r.a.createElement(te.a,{color:"secondary",size:48}))))))};function me(e){return e.charAt(0).toUpperCase()+e.slice(1)}var de=Object(s.a)((function(e){var t;return Object(u.a)({root:{textAlign:"center"},contentWrapper:Object(b.a)({display:"flex",flexDirection:"column"},e.breakpoints.up("sm"),{flexDirection:"row"}),posterContainer:(t={textAlign:"center"},Object(b.a)(t,e.breakpoints.up("sm"),{textAlign:"right"}),Object(b.a)(t,"& img",{width:"100%",maxWidth:300,borderRadius:4}),t),infoContainer:{textAlign:"justify"},loadingContainer:{height:280,display:"flex",alignItems:"center",justifyContent:"center"}})}));function fe(e){var t=Object(W.b)().t,a=["released","rated","runtime","genre","director","writer","actors","language","country","awards"].filter((function(t){var a=e.movie[me(t)];return a&&"N/A"!==a})).map((function(a){return r.a.createElement("li",{key:a},t("detail."+me(a)),": ",e.movie[me(a)])}));return r.a.createElement(r.a.Fragment,null,a)}var be=function(){var e=de(),t=Object(n.useState)(),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(!1),s=Object(i.a)(l,2),u=s[0],m=s[1],d=Object(f.f)().movieId,b=Object(W.b)().t;return Object(n.useEffect)((function(){m(!1),function(e){var t=q+"&i="+e;return J.get(t).then((function(e){return e.data}))}(d).then((function(e){c(e),setTimeout((function(){return m(!0)}),500)})).catch((function(){c({}),setTimeout((function(){return m(!0)}),500)}))}),[d]),Object(n.useEffect)((function(){(null===o||void 0===o?void 0:o.Poster)&&setTimeout((function(){return m(!0)}),500)}),[o]),r.a.createElement(z.a,{fixed:!0,className:e.root},u?r.a.createElement("div",null,r.a.createElement("h2",null,o.Title),r.a.createElement("div",{className:e.contentWrapper},r.a.createElement(z.a,{className:e.posterContainer},r.a.createElement("img",{alt:o.Title,src:o.Poster})),r.a.createElement(z.a,{className:e.infoContainer},r.a.createElement("ul",null,r.a.createElement(fe,{movie:o}),o.imdbRating&&r.a.createElement("li",null,"IMDB Rating: ",o.imdbRating)),"N/A"!==o.Plot&&r.a.createElement("p",null,r.a.createElement("b",null,b("detail.Plot")),r.a.createElement("br",null),o.Plot)))):r.a.createElement(z.a,{className:e.loadingContainer},r.a.createElement(te.a,{color:"secondary",size:48})))},pe=a(220),he=a(103),ge=a.n(he)()({palette:{primary:{50:"#e6f0f5",100:"#c0d9e6",200:"#97c0d5",300:"#6da6c4",400:"#4d93b8",500:"#2e80ab",600:"#2978a4",700:"#236d9a",800:"#1d6391",900:"#125080",A100:"#b4dcff",A200:"#81c4ff",A400:"#4eacff",A700:"#35a0ff",contrastDefaultColor:"light"},secondary:{50:"#f6e8f2",100:"#e7c6de",200:"#d8a0c8",300:"#c879b1",400:"#bc5da1",500:"#b04090",600:"#a93a88",700:"#a0327d",800:"#972a73",900:"#871c61",A100:"#ffc1e7",A200:"#ff8ed4",A400:"#ff5bc0",A700:"#ff41b7",contrastDefaultColor:"light"}},props:{MuiButtonBase:{disableRipple:!0}}}),ve=[{icon:"home",path:"/",id:"home"},{icon:"search",path:"/search",id:"search"}],Ee=Object(s.a)((function(e){return Object(u.a)({root:{display:"flex"},hide:{display:"none"},toolbar:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3),width:"100%"}})}));var je=function(){var e=Ee(),t=Object(n.useState)(!1),a=Object(i.a)(t,2),o=a[0],c=a[1];return r.a.createElement("div",{className:e.root},r.a.createElement(m.a,null),r.a.createElement(pe.a,{theme:ge},r.a.createElement(d.a,{basename:"/digi-school-group-tech-test"},r.a.createElement(w,{onMenuClick:function(){return c(!o)},open:o}),r.a.createElement(L,{onCloseMenuClick:function(){return c(!1)},open:o,options:ve}),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/detail/:movieId",component:be}),r.a.createElement(f.a,{path:"/search",component:ue}),r.a.createElement(f.a,{path:"/",component:ne}))))))},Oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function xe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var we=a(78),Ce=a(169);we.a.use(W.a).init({resources:Ce,lng:"fr",fallbackLng:"en",interpolation:{escapeValue:!1}});we.a;c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(je,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/digi-school-group-tech-test",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/digi-school-group-tech-test","/service-worker.js");Oe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):xe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):xe(t,e)}))}}()},77:function(e){e.exports=JSON.parse('{"b":"19460d96","a":"https://www.omdbapi.com/"}')}},[[112,1,2]]]);
//# sourceMappingURL=main.b761a76a.chunk.js.map